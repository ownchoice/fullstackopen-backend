(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{17:function(e,t,n){e.exports=n(41)},22:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),u=(n(22),n(5)),l=n(2),i=function(e){var t=e.filter,n=e.handleFilter;return r.a.createElement("p",null,"Filter shown with: ",r.a.createElement("input",{value:t,onChange:n}))},d=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Add a new contact"),r.a.createElement("form",{onSubmit:e.addName},r.a.createElement("p",null,"Name: ",r.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),r.a.createElement("p",null,"Number: ",r.a.createElement("input",{value:e.newPhonenumber,onChange:e.handlePhonenumberChange})),r.a.createElement("p",null,r.a.createElement("button",{type:"submit"},"Add"))))},s=function(e){var t=e.person,n=e.deleteHandler;return r.a.createElement("p",null,t.name," ",t.number," ",r.a.createElement("button",{onClick:function(){n(t)}},"Delete"))},m=function(e){return e.contactList.map((function(t){return r.a.createElement(s,{key:t.name,person:t,deleteHandler:e.deleteHandler})}))},f=n(4),h=n.n(f),b=n(16),p=n(3),g=n.n(p),E="/api/persons",w={getContacts:function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(E);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addContact:function(e){return g.a.post(E,e).then((function(e){return e.data}))},updateContact:function(e,t){return g.a.put("".concat(E,"/").concat(e),t).then((function(e){return e.data}))},deleteContact:function(e){return g.a.delete("".concat(E,"/").concat(e)).then((function(e){return e.data}))}},C=function(e){var t=e.message,n=e.style;e.show;return null===t||""===t?null:r.a.createElement("div",{style:n},t)},v=function(){var e=Object(a.useState)([{name:"Arto Hellas",number:"040-123456"}]),t=Object(l.a)(e,2),n=t[0],c=t[1],o={background:"lightgreen",color:"green",fontStyle:"bold",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},s=Object(u.a)(Object(u.a)({},o),{},{color:"red",background:"lightsalmon"}),f=Object(a.useState)(""),h=Object(l.a)(f,2),b=h[0],p=h[1],g=Object(a.useState)(o),E=Object(l.a)(g,2),v=E[0],j=E[1],O=Object(a.useState)(Date.now()),y=Object(l.a)(O,2),S=y[0],k=y[1];Object(a.useEffect)((function(){var e=setTimeout((function(){p("")}),5e3);return function(){clearTimeout(e)}}),[S]);var N=function(e,t){j(t),p(e),k(Date.now())},D=function(){w.getContacts().then((function(e){c(e)}))};Object(a.useEffect)(D,[]);var H=Object(a.useState)(""),P=Object(l.a)(H,2),F=P[0],T=P[1],x=Object(a.useState)(""),A=Object(l.a)(x,2),L=A[0],B=A[1],J=Object(a.useState)(""),z=Object(l.a)(J,2),I=z[0],M=z[1];return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(C,{message:b,style:v}),r.a.createElement(i,{filter:I,handleFilter:function(e){M(e.target.value)}}),r.a.createElement(d,{addName:function(e){e.preventDefault(),n.some((function(e){return e.name===F}))?window.confirm("".concat(F," is already in the phonebook. Update it?"))&&w.updateContact(n.find((function(e){return e.name===F})).id,{name:F,number:L}).then((function(e){D(),N("Contact updated successfully.",o)})).catch((function(e){N("There was an error. Nothing was updated. "+e.response.data.error,s),console.log(e.response.data.error),D()})):w.addContact({name:F,number:L}).then((function(e){c(n.concat(e)),N("Contact added successfully.",o)})).catch((function(e){N("There was an error. Contact was not added. "+e.response.data.error,s),console.log(e.response.data.error)})),T(""),B("")},newName:F,handleNameChange:function(e){T(e.target.value)},newPhonenumber:L,handlePhonenumberChange:function(e){B(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(m,{contactList:n.filter((function(e){return e.name.toLowerCase().includes(I)})),deleteHandler:function(e){window.confirm("Delete ".concat(e.name,"?"))&&w.deleteContact(e.id).then((function(e){D(),N("Contact deleted.",o)}))}}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.e0aad3cb.chunk.js.map